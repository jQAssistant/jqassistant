<jqa:jqassistant-rules xmlns:jqa="http://www.buschmais.com/jqassistant/core/analysis/rules/schema/v1.0">

    <concept id="junit5:TestMethod">
        <description>
            Finds all test methods (i.e. annotated with "@org.junit.jupiter.api.Test") and
            labels them with "Test" and "Junit5".
        </description>
        <cypher><![CDATA[
            MATCH
              (m:Method)-[:ANNOTATED_BY]-()-[:OF_TYPE]->(a:Type)
            WHERE
              a.fqn="org.junit.jupiter.api.Test"
            SET
              m:Test:Junit5
            RETURN
              m AS Test
        ]]></cypher>
    </concept>

    <concept id="junit5:RepeatedTestMethod">
        <description>
            Finds all test methods (i.e. annotated with "@org.junit.jupiter.api.Test") and
            labels them with "Test", "Repeated", and "Junit5".
        </description>
        <cypher><![CDATA[
            MATCH
              (m:Method)-[:ANNOTATED_BY]-()-[:OF_TYPE]->(a:Type)
            WHERE
              a.fqn="org.junit.jupiter.api.RepeatedTest"
            SET
              m:Repeated:Test:Junit5
            RETURN
              m AS Test
        ]]></cypher>
    </concept>

    <concept id="junit5:ParameterizedTestMethod">
        <description>
            Finds all test methods (i.e. annotated with "@org.junit.jupiter.api.ParameterizedTest") and
            labels them with "Test", "Paramterized", and "Junit5".
        </description>
        <cypher><![CDATA[
            MATCH
              (m:Method)-[:ANNOTATED_BY]-()-[:OF_TYPE]->(a:Type)
            WHERE
              a.fqn="org.junit.jupiter.params.ParameterizedTest"
            SET
              m:Parameterized:Test:Junit5
            RETURN
              m AS Test
        ]]></cypher>
    </concept>

    <concept id="junit5:DisabledTestClassOrMethod">
        <description>
            Labels all classes or methods annotated with "@org.junit.jupiter.api.Disabled"
            with "Junit5" and "Ignore".
        </description>
        <cypher><![CDATA[
            MATCH
              (e)-[:ANNOTATED_BY]->()-[:OF_TYPE]->(a:Type)
            WHERE
              a.fqn="org.junit.jupiter.api.Disabled"
            SET
              e:Junit5:Disabled
            RETURN
              e AS IgnoredElement
        ]]></cypher>
    </concept>

    <concept id="junit5:BeforeEach">
        <description>
            Labels all methods annotated by "@org.junit.jupiter.api.BeforeEach"
            with "Junit5" and "Before".</description>
        <cypher><![CDATA[
            MATCH
              (c:Type:Class)-[:DECLARES]->(m:Method),
              (m:Method)-[:ANNOTATED_BY]->()-[:OF_TYPE]->(a:Type)
            WHERE
              a.fqn="org.junit.jupiter.api.BeforeEach"
            SET
              m:Junit5:BeforeEach
            RETURN
              m AS BeforeMethod, c AS TestClass
        ]]></cypher>
    </concept>

    <concept id="junit5:BeforeAll">
        <description>
            Labels all methods annotated by "@org.junit.jupiter.api.BeforeAll"
            with "Junit5" and "BeforeClass".</description>
        <cypher><![CDATA[
            MATCH
              (c:Type:Class)-[:DECLARES]->(m:Method),
              (m:Method)-[:ANNOTATED_BY]->()-[:OF_TYPE]->(a:Type)
            WHERE
              a.fqn="org.junit.jupiter.api.BeforeAll"
            SET
              m:Junit5:BeforeAll
            RETURN
              m AS BeforeClassMethod, c AS TestClass
        ]]></cypher>
    </concept>

    <concept id="junit5:AfterEach">
        <description>
            Labels all methods annotated by "@org.junit.jupiter.api.AfterEach"
            with "Junit5" and "After".</description>
        <cypher><![CDATA[
            MATCH
              (c:Type:Class)-[:DECLARES]->(m:Method),
              (m:Method)-[:ANNOTATED_BY]->()-[:OF_TYPE]->(a:Type)
            WHERE
              a.fqn="org.junit.jupiter.api.AfterEach"
            SET
              m:Junit5:AfterEach
            RETURN
              m AS AfterEachMethod, c AS TestClass
        ]]></cypher>
    </concept>

    <concept id="junit5:AfterAll">
        <description>
            Labels all methods annotated by "@org.junit.jupiter.api.AfterAll"
            with "Junit5" and "AfterClass".</description>
        <cypher><![CDATA[
            MATCH
              (c:Type:Class)-[:DECLARES]->(m:Method),
              (m:Method)-[:ANNOTATED_BY]->()-[:OF_TYPE]->(a:Type)
            WHERE
              a.fqn="org.junit.jupiter.api.AfterAll"
            SET
              m:Junit5:AfterAll
            RETURN
              m AS AfterClassMethod, c AS TestClass
        ]]></cypher>
    </concept>


</jqa:jqassistant-rules>